(()=>{"use strict";const e=(()=>{const e=e=>{const{name:t,weather:r,main:{temp:n,feels_like:a,humidity:i},wind:{speed:c}}=e;return{cityName:t,currentWeather:r,temperature:n,feelsLike:a,humidity:i,windSpeed:c}};return{getWeather:async function(t){try{const r=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=metric&appid=2327933a270fa0d5f1b7ae0d2e8e9a52`,{mode:"cors"});if(!r.ok)throw new Error(`City ${t} unknown`);return e(await r.json())}catch(e){return alert(e),null}},getWeatherImperial:async function(t){try{const r=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${t}&units=imperial&appid=2327933a270fa0d5f1b7ae0d2e8e9a52`,{mode:"cors"});if(!r.ok)throw new Error(`City ${t} unknown`);return e(await r.json())}catch(e){return alert(e),null}}}})(),t=e,r=document.querySelector(".form"),n=document.querySelector(".search"),a=document.querySelector(".city-weather-container"),i=document.querySelector(".check"),c=document.querySelector("#temperature-text"),o=document.querySelector(".celsius-container"),u=document.querySelector(".temperature-change"),d=document.querySelector(".temperature-two-change"),m=document.querySelector(".wind-change"),l=document.querySelector(".city-weather"),h=document.querySelector(".city-name"),s=document.querySelector(".temperature"),y=document.querySelector(".temperature-two"),p=document.querySelector(".humid"),w=document.querySelector(".speed");i.addEventListener("change",(async()=>{if(i.checked){c.innerText="Metric",u.innerText="°C",d.innerText="°C",m.innerText="KM/H";const e=await t.getWeather(n.value);x(e)}else{c.innerText="Imperial",u.innerText="°F",d.innerText="°F",m.innerText="MPH";const e=await t.getWeatherImperial(n.value);x(e)}})),r.addEventListener("submit",(async e=>{if(e.preventDefault(),""!==n.value)if(i.checked){c.innerText="Metric",u.innerText="°C",d.innerText="°C",m.innerText="KM/H";const e=await t.getWeather(n.value);x(e)}else{c.innerText="Imperial",u.innerText="°F",d.innerText="°F",m.innerText="MPH";const e=await t.getWeatherImperial(n.value);x(e)}}));const x=e=>{e&&(a.style.opacity="1",o.style.opacity="1",l.innerText=e.currentWeather[0].main,h.innerText=e.cityName,s.innerText=Math.round(e.temperature),y.innerText=Math.round(e.feelsLike),p.innerText=Math.round(e.humidity),w.innerText=Math.round(e.windSpeed))}})();